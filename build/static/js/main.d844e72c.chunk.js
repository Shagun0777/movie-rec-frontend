(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,c){},36:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(28),s=c.n(r),o=(c(36),c(5)),i=c.n(o),d=c(10),j=(c(13),c(11)),u=c.n(j),l=c(1),m=function(e){var t=e.list_movies;return console.log(t),Object(l.jsx)("div",{children:t.map((function(e){return Object(l.jsxs)("div",{id:"row",children:[Object(l.jsxs)("div",{children:[Array.isArray(e)&&Object(l.jsx)("a",{href:e[2],children:e[0]}),!Array.isArray(e)&&e]}),Object(l.jsx)("div",{children:Array.isArray(e)&&e[1]})]})}))})},h=function(e){var t=e.data,c=e.header;return Object(l.jsxs)("div",{className:"accordion-item",children:[Object(l.jsx)("div",{className:"accordion-title",style:{color:"black",backgroundColor:"silver"},children:Object(l.jsx)("h3",{children:c})}),Object(l.jsx)("div",{className:"accordion-content",children:Object(l.jsx)(m,{list_movies:t})})]})},b=c(2),O=c(3),f="https://movie-recommend-shagun.herokuapp.com/",p=function(e){var t=e.params,c=(Object(O.f)().id,Object(a.useState)("")),r=Object(b.a)(c,2),s=r[0],o=r[1],j=Object(a.useState)([]),m=Object(b.a)(j,2),p=m[0],x=m[1],v=Object(a.useState)(""),g=Object(b.a)(v,2),_=(g[0],g[1],Object(a.useState)("")),y=Object(b.a)(_,2),w=(y[0],y[1],Object(a.useState)([])),S=Object(b.a)(w,2),B=S[0],N=S[1],C=Object(a.useState)([]),k=Object(b.a)(C,2),F=k[0],A=k[1],Z=Object(a.useState)([]),E=Object(b.a)(Z,2),G=E[0],L=E[1],R=Object(a.useState)([]),M=Object(b.a)(R,2),I=M[0],J=M[1],P=Object(a.useState)([]),T=Object(b.a)(P,2),U=T[0],D=T[1],W=Object(a.useState)(0),q=Object(b.a)(W,2),z=q[0],H=(q[1],Object(a.useState)(!0)),K=Object(b.a)(H,2),Q=K[0],V=(K[1],Object(a.useState)(!0)),X=Object(b.a)(V,2),Y=(X[0],X[1],Object(a.useState)(!0)),$=Object(b.a)(Y,2),ee=($[0],$[1],Object(a.useState)(!0)),te=Object(b.a)(ee,2);te[0],te[1];Object(a.useEffect)((function(){ae()}),[]);var ce,ae=function(){var e=Object(d.a)(i.a.mark((function e(){var c,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()(f+"login/?user_id="+t);case 2:c=e.sent,a=c.data,n=a["logged user"],r=a.watched,ne(a.recommended_movies),x(r),o(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(i.a.mark((function e(c){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=c.length){e.next=6;break}return e.next=3,u()(f+"create_user/?user_id="+t);case 3:return e.sent,ae(),e.abrupt("return");case 6:a=re(c["exact match"],"title"),N(a),null!=c.recommended_match["By Name"]&&A(re(c.recommended_match["By Name"],"title")),null!=c.recommended_match["By Genre"]&&L(re(c.recommended_match["By Genre"],"title")),null!=c.recommended_match["By Cast"]&&J(re(c.recommended_match["By Cast"],"title")),null!=c.recommended_match.final_show_to_user&&D(re(c.recommended_match.final_show_to_user,"title"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(e,t){var c=[];for(var a in e)c.push([e[a][t],e[a].release_date,e[a].homepage]);return c},se=n.a.useState("Newest First"),oe=Object(b.a)(se,2),ie=oe[0],de=oe[1];ce=["Newest First","Oldest First","A to Z","Z to A"].map((function(e){return Object(l.jsx)("option",{children:e},e)})),"Oldest First"===ie?z=1:"Newest First"===ie?z=2:"A to Z"===ie?z=3:"Z to A"===ie&&(z=4);var je=function(e){return console.log("sorting",e),1==z?e.sort((function(e,t){return e[1].localeCompare(t[1])})):2==z?e.sort((function(e,t){return t[1].localeCompare(e[1])})):(3==z&&e.sort(),4==z&&(e.sort(),e.reverse()),console.log("a sorting",e),e)};return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{color:"white",children:("user logged :"+s).toUpperCase()}),Object(l.jsxs)("form",{style:{marginBlock:10},children:[Object(l.jsx)("label",{children:"Sort By: "}),Object(l.jsx)("select",{onChange:function(e){de(e.target.value)},children:ce})]}),""==s&&Object(l.jsx)("h2",{children:"Loading..."}),Object(l.jsx)(h,{data:p,header:"User WatchList"}),Q&&B.length>0&&Object(l.jsx)(h,{data:je(B),header:"Exact Movies"}),F.length>0&&Object(l.jsx)(h,{data:je(F),header:"Recommended By Name"}),U.length>0&&Object(l.jsx)(h,{data:je(U),header:"Final Recommendation"}),G.length>0&&Object(l.jsx)(h,{data:je(G),header:"recommended By Genre"}),I.length>0&&Object(l.jsx)(h,{data:je(I),header:"Recommended By Cast"})]})},x=function(e){var t=e.params,c=Object(O.f)().id;console.log("id is",c,t);var r=Object(a.useState)([]),s=Object(b.a)(r,2),o=s[0],j=s[1],m=Object(a.useState)([]),f=Object(b.a)(m,2),p=f[0],x=f[1],v=Object(a.useState)([]),g=Object(b.a)(v,2),_=g[0],y=g[1],w=Object(a.useState)([]),S=Object(b.a)(w,2),B=S[0],N=S[1],C=Object(a.useState)([]),k=Object(b.a)(C,2),F=k[0],A=k[1],Z=Object(a.useState)(0),E=Object(b.a)(Z,2),G=E[0];E[1];Object(a.useEffect)((function(){R()}),[]);var L,R=function(){var e=Object(d.a)(i.a.mark((function e(){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()("https://movie-recommend-shagun.herokuapp.com/recommend_movie?movie="+t);case 2:c=e.sent,a=c.data,console.log(a),M(a.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(i.a.mark((function e(t){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in console.log("fdata",t.data),t)console.log(c);a=[t["exact match"].title,t["exact match"].release_date,t["exact match"].homepage],j([a]),null!=t.recommended_match["By Name"]&&x(I(t.recommended_match["By Name"],"title")),null!=t.recommended_match["By Genre"]&&y(I(t.recommended_match["By Genre"],"title")),null!=t.recommended_match["By Cast"]&&N(I(t.recommended_match["By Cast"],"title")),null!=t.recommended_match.final_show_to_user&&A(I(t.recommended_match.final_show_to_user,"title"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e,t){var c=[];for(var a in e)c.push([e[a][t],e[a].release_date,e[a].homepage]);return c},J=n.a.useState("Newest First"),P=Object(b.a)(J,2),T=P[0],U=P[1];L=["Newest First","Oldest First","A to Z","Z to A"].map((function(e){return Object(l.jsx)("option",{children:e},e)})),"Oldest First"===T?G=1:"Newest First"===T?G=2:"A to Z"===T?G=3:"Z to A"===T&&(G=4);var D=function(e){return console.log("sorting",e),1==G?e.sort((function(e,t){return e[1].localeCompare(t[1])})):2==G?e.sort((function(e,t){return t[1].localeCompare(e[1])})):(3==G&&e.sort(),4==G&&(e.sort(),e.reverse()),console.log("a sorting",e),e)};return Object(l.jsxs)("div",{children:[Object(l.jsxs)("form",{style:{marginBlock:10},children:[Object(l.jsx)("label",{children:"Sort By: "}),Object(l.jsx)("select",{onChange:function(e){U(e.target.value)},children:L})]}),0==o.length&&Object(l.jsx)("h2",{children:"Loading..."}),o.length>0&&Object(l.jsx)(h,{data:D(o),header:"Exact Movies"}),p.length>0&&Object(l.jsx)(h,{data:D(p),header:"Recommended By Name"}),F.length>0&&Object(l.jsx)(h,{data:D(F),header:"Final Recommendation"}),_.length>0&&Object(l.jsx)(h,{data:D(_),header:"recommended By Genre"}),B.length>0&&Object(l.jsx)(h,{data:D(B),header:"Recommended By Cast"})]})},v=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){r()}),[]);var r=function(){var e=Object(d.a)(i.a.mark((function e(){var t,c,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()("https://movie-recommend-shagun.herokuapp.com/");case 2:for(r in t=e.sent,c=t.data.data,a=[],0,c)a.push(c[r].title);n(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[0==c.length&&Object(l.jsx)("h2",{children:"Loading..."}),c.length>0&&Object(l.jsx)(h,{data:c})]})},g=c(15);var _=function(){function e(){var e=Object(O.f)().user_id;return Object(l.jsx)(p,{params:e})}function t(){var e=Object(O.f)(),t=e.user_id,c=e.movie_name;u()("https://movie-recommend-shagun.herokuapp.com/login?user_id="+t+"&add_movies="+c);return Object(l.jsx)(p,{params:t})}function c(){var e=Object(O.f)().movie_name;return Object(l.jsx)(x,{params:e})}return Object(a.useEffect)((function(){}),[]),Object(l.jsx)(g.a,{children:Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(O.c,{children:[Object(l.jsx)(O.a,{path:"/login/:user_id/:movie_name",children:Object(l.jsx)("div",{className:"show",children:Object(l.jsx)(t,{})})}),Object(l.jsx)(O.a,{path:"/login/:user_id",children:Object(l.jsx)("div",{className:"show",children:Object(l.jsx)(e,{})})}),Object(l.jsx)(O.a,{path:"/recommend/:movie_name",children:Object(l.jsx)("div",{className:"show",children:Object(l.jsx)(c,{})})}),Object(l.jsx)(O.a,{path:"/",children:Object(l.jsx)("div",{className:"show",children:Object(l.jsx)(v,{})})})]})})})},y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,65)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};c(62);s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(_,{})}),document.getElementById("root")),y()}},[[63,1,2]]]);
//# sourceMappingURL=main.d844e72c.chunk.js.map